{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport 'isomorphic-fetch';\nimport Layout from '../components/Layout';\nimport PodcastPlayer from '../components/PodcastPlayer';\nimport Error from './_error';\nexport default class extends React.Component {\n  static async getInitialProps({\n    query,\n    res\n  }) {\n    let id = query.id;\n\n    try {\n      let fetchClip = await fetch(`https://api.audioboom.com/audio_clips/${id}.mp3`);\n\n      if (fetchClip.status >= 400) {\n        res.statusCode = fetchClip.status;\n        return {\n          clip: null,\n          statusCode: fetchClip.status\n        };\n      }\n\n      let clip = (await fetchClip.json()).body.audio_clip;\n      return {\n        clip,\n        statusCode: 200\n      };\n    } catch (e) {\n      return {\n        clip: null,\n        statusCode: 503\n      };\n    }\n  }\n\n  render() {\n    const {\n      clip,\n      statusCode\n    } = this.props;\n\n    if (statusCode !== 200) {\n      return __jsx(Error, {\n        statusCode: statusCode\n      });\n    }\n\n    return __jsx(Layout, {\n      title: clip.title\n    }, __jsx(PodcastPlayer, {\n      clip: clip\n    }));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}